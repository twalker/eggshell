doctype html
html(lang="en")
  head
    meta(charset="utf-8")
    title #{name} unit test
    link(rel="stylesheet", href="//cdnjs.cloudflare.com/ajax/libs/mocha/2.1.0/mocha.css")
    style.
      nav.tests {
        font-size: 12px;
        position: fixed;
        top: 25px;
        max-width: 70%;
      }
      nav.tests a {
        margin: 0.25em 0.5em;
        display: inline-block
      }
      nav.tests a.active {
        text-decoration: none;
      }
    
    //- script(data-main="/js/src/config", src="/js/src/bower_components/requirejs/require.js")
    //- script.
    //-   requirejs({
    //-     paths : {
    //-       // overwrite 'main' to be the unit test file for the module to be tested.
    //-       main: "../test/#{name}"
    //-     }
    //-   });
    script(src="https://cdnjs.cloudflare.com/ajax/libs/mocha/2.1.0/mocha.js")
    script.
      mocha.setup('bdd')
      document.addEventListener("DOMContentLoaded", function(event) {
        mocha.run()
      });
    script(src="/js/dist/unit-tests.js")
  body
    nav.tests
      each test in names
        a(href=test, class= (test == name) && "active") #{test}

    #mocha